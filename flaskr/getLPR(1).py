# 输入为查询日期，格式为20YY-MM-DD，输出为（一年期，五年期）LPR# 2019-08-20之前在网络上只能获取到一年期，因而输出为一年期LPRfrom urllib import request as lprrequestimport jsondef get_lpr(inputdate):    '''    :param inputdate:exg. '2019-01-01'    :return:    '''    enddate = inputdate    if inputdate[5:7] == '01':        startdate = str(int(inputdate[:4])-1)+'-12-01'    else:        startdate = inputdate[:5]+str(int(inputdate[5:7])-1)+'-01'    url = 'http://www.chinamoney.com.cn/dqs/rest/cm-u-bk-currency/LprHis?lang=CN&strStartDate='+startdate+'&strEndDate='+enddate    header = {'User-Agent': 'Mozilla/5.0 (Macntosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Safari/605.1.15'}    req = lprrequest.Request(url, headers = header)    content = lprrequest.urlopen(req).read().decode()    jsc = json.loads(content)    rec = jsc['records']    if int(inputdate[:4])>2019 or (int(inputdate[:4])>=2019 and int(inputdate[5:7])>=8 and int(inputdate[8:10])>=20):        return rec[0]['1Y'],rec[0]['5Y']    else:        return rec[0]['1Y']def get_all_lpr(inputdate):    '''        :param inputdate:exg. '2019-01-01'        :return:    '''    url = 'http://www.chinamoney.com.cn/dqs/rest/cm-u-bk-currency/LprHis?lang=CN&strStartDate=' + inputdate    header = {        'User-Agent': 'Mozilla/5.0 (Macntosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Safari/605.1.15'}    req = lprrequest.Request(url, headers=header)    content = lprrequest.urlopen(req).read().decode()    jsc = json.loads(content)    return jscif  __name__ == '__main__':    print(get_lpr('2020-01-01'))    print(get_all_lpr('2019-01-01'))    print('good')